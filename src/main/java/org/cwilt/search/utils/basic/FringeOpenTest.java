package org.cwilt.search.utils.basic;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.ListIterator;
import java.util.Random;

import org.junit.Test;

public class FringeOpenTest {

	private FringeOpen<Integer> f = new FringeOpen<Integer>();
	private ArrayList<Integer> l = new ArrayList<Integer>();
	private Random r = new Random();

	public void addInteger(Integer i) {
		f.add(i);
		l.add(i);
	}

	@Test
	public void insertTest() {
		for (int i = 0; i < 1000; i++) {
			addInteger(r.nextInt());
		}
	}

	@Test
	public void deleteTest() {
		insertTest();
		for (int i = 0; i < 1000; i++) {
			f.remove(0);
		}
	}

	@Test
	public void iterSoloTest() {
		System.err.println("1 item test");
		f.add(10);
		ListIterator<Integer> i = f.listIterator();
		System.err.print(i.next());
		i.remove();
		i.add(100);
		f.checkList();
		
		
		System.err.println();
		System.err.println(f);

	}
	
	@Test
	public void iteratorTest() {
		// 0 items
		Iterator<Integer> i = f.iterator();
		while (i.hasNext()) {
			assert (false);
		}
		// 1 item
		System.err.println("1 item test");
		f.add(10);
		i = f.iterator();
		while (i.hasNext()) {
			System.err.print(i.next());
		}
		System.err.println();

		// 10 items
		System.err.println("10 item test");
		for (int ix = 0; ix < 10; ix++) {
			f.add(ix * 10);
		}
		i = f.iterator();
		while (i.hasNext()) {
			System.err.print(i.next() + " ");
		}
		System.err.println();
		f.clear();
		i = f.iterator();
		while (i.hasNext()) {
			assert(false);
		}
	}
	
	@Test
	public void iteratorDeleteTest(){
		for(int i = 0; i < 4; i++){
			f.add(i);
		}
		ListIterator<Integer> i = f.listIterator();
		while(i.hasNext()){
			System.err.print(i.next() + " ");
			i.remove();
			f.checkList();
		}
		f.checkList();
		System.err.println();
		System.err.println("List size: " + f.size());
	}
	
	@Test
	public void iteratorAddTest(){
		for(int i = 0; i < 4; i++){
			f.add(i);
		}
		ListIterator<Integer> i = f.listIterator();
		while(i.hasNext()){
			System.err.print(i.next() + " ");
		}
		f.checkList();
		
		System.err.println();
		i = f.listIterator();
		
		i.add(10);
		f.checkList();
		
		while(i.hasNext()){
			System.err.print(i.next() + " ");
		}
		
		System.err.println();

		i = f.listIterator();
		for(int ix = 0; ix < 2; ix++){
			System.err.print(i.next() + " ");
			f.checkList();
			i.add(100 * ix);
		}
		while(i.hasNext()){
			System.err.print(i.next() + " ");
			f.checkList();
		}
		
		
	}
}
